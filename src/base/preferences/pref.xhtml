 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
 
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title> LibX Preferences </title>
    <link type="text/css" href="css/pepper-grinder/jquery-ui-1.8.4.custom.css" rel="stylesheet" />	
    <link type="text/css" href="prefs.css" rel="stylesheet" />	
    <link type="text/css" href="checktree/checktree.css" rel="stylesheet" />
    <link rel="stylesheet" href="jquery-tooltip/jquery.tooltip.css" />
    <script src="../getlibx.js"></script>
    <script type="text/javascript" src="../bootstrapped/scripts/jquery-latest.js"></script>
    <script src="js/JsPlate.js" type="text/javascript" ></script>
    <script src="checktree/jquery.checktree.js" type="text/javascript"></script>
    <script src="jquery-tooltip/lib/jquery.bgiframe.js" type="text/javascript"></script>
    <script src="jquery-tooltip/lib/jquery.dimensions.js" type="text/javascript"></script>
    <script src="jquery-tooltip/jquery.tooltip.js" type="text/javascript"></script>
    
    <script type="text/javascript" src="js/jquery-ui-1.8.4.custom.min.js"></script>
    <script src="js/prefs.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready ( function () {

    // the following conditions must be true for a template to be processed:
    //   1) the placeholder for the template exists in the DOM
    //   2) the template's locale has been fetched
    //   3) the template file itself has been fetched
    
    // Process the first template, which will create tabs and recursively process
    // each subsequent template
    var result = process ( libx.prefs, "libx.prefs" );

    // Clone and append to main document
    // This evaluates scripts and style sheets ( setting the innerHTML does not seem to )
    $('#content-div').append ( $( result.html ) );
    
    // the template placeholder now exists in the DOM
    result.doPostInsertionProcessing();
    
    // Set event handlers for textboxes
    $(".preference-text").live("change", function () {
        libx.preferences.getByID ( this.name )._setValue ( this.value );
        libx.preferences.save();
    } );

    // Set event handlers for checkboxes
    $(".preference-checkbox").live("click", function () {
        libx.preferences.getByID ( this.name )._setValue ( this.checked );
        libx.preferences.save();
    } );
    
    // Set event handlers for multichoice preferences
    $(".preference-multichoice").live("click", function () {
        libx.preferences.getByID ( this.name )._selected = this.checked;
        libx.preferences.save();
    } );

    // Set event handlers for radio buttons
    $(".preference-radio").live("click", function () {
        libx.preferences.getByID ( this.name )._setValue ( this.value );
        libx.preferences.save();
    } );
    
} );
   
</script>
</head>
<body id="body">
    <div id="content-div">
    </div>
</body>
</html>
